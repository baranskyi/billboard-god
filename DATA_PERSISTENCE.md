# üíæ –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö –ø—Ä–∏ –¥–µ–ø–ª–æ—ó

## üö® –ü—Ä–æ–±–ª–µ–º–∞

–ü—Ä–∏ –∫–æ–∂–Ω–æ–º—É –Ω–æ–≤–æ–º—É –¥–µ–ø–ª–æ—ó (–æ–Ω–æ–≤–ª–µ–Ω–Ω—ñ –∫–æ–¥—É) –≤—Å—ñ –¥–∞–Ω—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤, –∫–∞–º–ø–∞–Ω—ñ—ó —Ç–∞ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ—ñ—ó **–≤–∏–¥–∞–ª—è—é—Ç—å—Å—è**. –¶–µ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è —Ç–æ–º—É, —â–æ:

1. –ü–∞–ø–∫–∏ `data/` —Ç–∞ `uploads/` –Ω–µ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ git
2. –ü—Ä–∏ –¥–µ–ø–ª–æ—ó —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –Ω–æ–≤–∏–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä/—Å–µ—Ä–≤–µ—Ä
3. –°—Ç–∞—Ä—ñ –¥–∞–Ω—ñ –∑–∞–ª–∏—à–∞—é—Ç—å—Å—è –Ω–∞ –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ–º—É —Å–µ—Ä–≤–µ—Ä—ñ

## ‚úÖ –†—ñ—à–µ–Ω–Ω—è

### –í–∞—Ä—ñ–∞–Ω—Ç 1: Railway Volumes (–†–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è)

Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–±–µ—Ä—ñ–≥–∞—î –¥–∞–Ω—ñ —É volumes:

1. **–í Railway –ø–∞–Ω–µ–ª—ñ** –ø–µ—Ä–µ–π–¥—ñ—Ç—å –≤ Settings ‚Üí Volumes
2. **–î–æ–¥–∞–π—Ç–µ Volume:**
   - Mount Path: `/app/data`
   - Size: 1GB (–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –¥–ª—è –ø–æ—á–∞—Ç–∫—É)
3. **–î–æ–¥–∞–π—Ç–µ —â–µ –æ–¥–∏–Ω Volume:**
   - Mount Path: `/app/uploads` 
   - Size: 5GB (–¥–ª—è —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ—ñ–π)

**–ü—ñ—Å–ª—è —Ü—å–æ–≥–æ –¥–∞–Ω—ñ –±—É–¥—É—Ç—å –∑–±–µ—Ä—ñ–≥–∞—Ç–∏—Å—è –º—ñ–∂ –¥–µ–ø–ª–æ—è–º–∏!**

### –í–∞—Ä—ñ–∞–Ω—Ç 2: –ó–æ–≤–Ω—ñ—à–Ω—î —Å—Ö–æ–≤–∏—â–µ (AWS S3, Google Cloud)

–î–ª—è production —Ä–µ–∫–æ–º–µ–Ω–¥—É—é:
- **–§–æ—Ç–æ–≥—Ä–∞—Ñ—ñ—ó** ‚Üí AWS S3 –∞–±–æ Google Cloud Storage
- **–î–∞–Ω—ñ** ‚Üí Managed Database (PostgreSQL)

### –í–∞—Ä—ñ–∞–Ω—Ç 3: –†—É—á–Ω–µ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è/–≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è

#### –ü–µ—Ä–µ–¥ –¥–µ–ø–ª–æ—î–º:
```bash
# –°—Ç–≤–æ—Ä–∏—Ç–∏ –±—ç–∫–∞–ø
node scripts/backup.js create

# –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –±—ç–∫–∞–ø –ª–æ–∫–∞–ª—å–Ω–æ
scp user@server:/path/to/backups/backup-*.tar.gz ./local-backup/
```

#### –ü—ñ—Å–ª—è –¥–µ–ø–ª–æ—é:
```bash
# –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –±—ç–∫–∞–ø –Ω–∞ –Ω–æ–≤–∏–π —Å–µ—Ä–≤–µ—Ä
scp ./local-backup/backup-*.tar.gz user@server:/path/to/app/

# –í—ñ–¥–Ω–æ–≤–∏—Ç–∏ –¥–∞–Ω—ñ
node scripts/backup.js restore backup-*.tar.gz
```

---

## üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ –±—ç–∫–∞–ø–∏

–°–∏—Å—Ç–µ–º–∞ —Ç–µ–ø–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ:
- ‚úÖ **–°—Ç–≤–æ—Ä—é—î –±—ç–∫–∞–ø** –ø—Ä–∏ –∫–æ–∂–Ω–æ–º—É –∑–∞–ø—É—Å–∫—É —Å–µ—Ä–≤–µ—Ä–∞
- ‚úÖ **–ü–µ—Ä—ñ–æ–¥–∏—á–Ω—ñ –±—ç–∫–∞–ø–∏** –∫–æ–∂–Ω—ñ 6 –≥–æ–¥–∏–Ω
- ‚úÖ **–û—á–∏—â–∞—î —Å—Ç–∞—Ä—ñ** –±—ç–∫–∞–ø–∏ (–∑–∞–ª–∏—à–∞—î 10 –æ—Å—Ç–∞–Ω–Ω—ñ—Ö)
- ‚úÖ **–ó–±–µ—Ä—ñ–≥–∞—î –≤ –ø–∞–ø—Ü—ñ** `./backups/`

### –†—É—á–Ω–µ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –±—ç–∫–∞–ø–∞–º–∏:

```bash
# –°—Ç–≤–æ—Ä–∏—Ç–∏ –±—ç–∫–∞–ø
node scripts/backup.js create

# –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ —Å–ø–∏—Å–æ–∫ –±—ç–∫–∞–ø—ñ–≤
node scripts/backup.js list

# –í—ñ–¥–Ω–æ–≤–∏—Ç–∏ –∑ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –±—ç–∫–∞–ø–∞
node scripts/backup.js restore backups/backup-2025-01-14T15-30-00-000Z.tar.gz
```

---

## üê≥ Docker –∑ –ø–æ—Å—Ç—ñ–π–Ω–∏–º–∏ volumes

### docker-compose.yml (–æ–Ω–æ–≤–ª–µ–Ω–∏–π):

```yaml
version: '3.8'
services:
  billboard-tracker:
    build: .
    ports:
      - "3000:3000"
    environment:
      - SESSION_SECRET=${SESSION_SECRET}
      - ADMIN_PASSWORD=${ADMIN_PASSWORD}
    volumes:
      # –ü–æ—Å—Ç—ñ–π–Ω—ñ –¥–∞–Ω—ñ
      - billboard_data:/app/data
      - billboard_uploads:/app/uploads
      - billboard_backups:/app/backups
    restart: unless-stopped

# –°—Ç–≤–æ—Ä–∏—Ç–∏ named volumes –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö
volumes:
  billboard_data:
    driver: local
  billboard_uploads:
    driver: local
  billboard_backups:
    driver: local
```

**–ó —Ç–∞–∫–æ—é –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—î—é –¥–∞–Ω—ñ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –Ω–∞–≤—ñ—Ç—å –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤!**

---

## üîß –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º

### Railway:
1. **Settings ‚Üí Volumes**
2. **–î–æ–¥–∞—Ç–∏ volumes** –¥–ª—è `/app/data` —Ç–∞ `/app/uploads`
3. **–î–∞–Ω—ñ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è**

### Heroku:
‚ö†Ô∏è **Heroku –ù–ï –∑–±–µ—Ä—ñ–≥–∞—î —Ñ–∞–π–ª–∏!** –ü–æ—Ç—Ä—ñ–±–Ω–æ:
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ AWS S3 –¥–ª—è —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ—ñ–π
- PostgreSQL –¥–ª—è –¥–∞–Ω–∏—Ö
- –ê–±–æ –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ Railway/DigitalOcean

### DigitalOcean/VPS:
- **–î–∞–Ω—ñ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è** –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –Ω–∞ –¥–∏—Å–∫—É —Å–µ—Ä–≤–µ—Ä–∞
- **–†–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è** –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ cron –¥–ª—è –±—ç–∫–∞–ø—ñ–≤:

```bash
# –î–æ–¥–∞—Ç–∏ –≤ crontab (crontab -e):
0 */6 * * * cd /path/to/app && node scripts/backup.js create
```

---

## üìã –ß–µ–∫-–ª–∏—Å—Ç –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö

### –ü–µ—Ä–µ–¥ –¥–µ–ø–ª–æ—î–º –∑–∞–≤–∂–¥–∏:
- [ ] –°—Ç–≤–æ—Ä–∏—Ç–∏ —Ä—É—á–Ω–∏–π –±—ç–∫–∞–ø: `node scripts/backup.js create`
- [ ] –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å –∞–≤—Ç–æ–±—ç–∫–∞–ø—ñ–≤: `node scripts/backup.js list`
- [ ] –ó–±–µ—Ä–µ–≥—Ç–∏ –≤–∞–∂–ª–∏–≤—ñ –±—ç–∫–∞–ø–∏ –ª–æ–∫–∞–ª—å–Ω–æ

### –ü—ñ—Å–ª—è –¥–µ–ø–ª–æ—é:
- [ ] –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Ä–æ–±–æ—Ç—É —Å–∏—Å—Ç–µ–º–∏
- [ ] –ü–µ—Ä–µ–∫–æ–Ω–∞—Ç–∏—Å—è, —â–æ –¥–∞–Ω—ñ –Ω–∞ –º—ñ—Å—Ü—ñ
- [ ] –ü—Ä–∏ –ø–æ—Ç—Ä–µ–±—ñ –≤—ñ–¥–Ω–æ–≤–∏—Ç–∏ –∑ –±—ç–∫–∞–ø–∞

### –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è production:
- [ ] –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ volumes/persistent storage
- [ ] –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –∑–æ–≤–Ω—ñ—à–Ω—î —Å—Ö–æ–≤–∏—â–µ –¥–ª—è —Ñ–æ—Ç–æ
- [ ] –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ –±—ç–∫–∞–ø–∏
- [ ] –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è –∑ –±—ç–∫–∞–ø–∞

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó –ø–æ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö

### ü•á **Railway** (–Ω–∞–π–ø—Ä–æ—Å—Ç—ñ—à–µ):
- –î–æ–¥–∞—Ç–∏ Volumes –≤ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è—Ö
- –î–∞–Ω—ñ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ
- –ù—ñ—è–∫–∏—Ö –¥–æ–¥–∞—Ç–∫–æ–≤–∏—Ö –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å

### ü•à **DigitalOcean** (–Ω–∞–π–Ω–∞–¥—ñ–π–Ω—ñ—à–µ):
- –î–∞–Ω—ñ –Ω–∞ –¥–∏—Å–∫—É —Å–µ—Ä–≤–µ—Ä–∞
- –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ cron –¥–ª—è –±—ç–∫–∞–ø—ñ–≤
- –ü–æ–≤–Ω–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å

### ü•â **Docker** (—É–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω–µ):
- Named volumes –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å –¥–∞–Ω—ñ
- –õ–µ–≥–∫–æ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç–∏ –º—ñ–∂ —Å–µ—Ä–≤–µ—Ä–∞–º–∏

### ‚ùå **Heroku** (–Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è):
- –ù–µ –∑–±–µ—Ä—ñ–≥–∞—î —Ñ–∞–π–ª–∏
- –ü–æ—Ç—Ä—ñ–±–Ω—ñ –∑–æ–≤–Ω—ñ—à–Ω—ñ —Å–µ—Ä–≤—ñ—Å–∏

---

## üîÑ –ú—ñ–≥—Ä–∞—Ü—ñ—è —ñ—Å–Ω—É—é—á–∏—Ö –¥–∞–Ω–∏—Ö

–Ø–∫—â–æ —É –≤–∞—Å –≤–∂–µ —î –¥–∞–Ω—ñ –Ω–∞ —Å—Ç–∞—Ä–æ–º—É —Å–µ—Ä–≤–µ—Ä—ñ:

### 1. –°—Ç–≤–æ—Ä–∏—Ç–∏ –±—ç–∫–∞–ø –Ω–∞ —Å—Ç–∞—Ä–æ–º—É —Å–µ—Ä–≤–µ—Ä—ñ:
```bash
cd /old/server/path
node scripts/backup.js create
```

### 2. –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –±—ç–∫–∞–ø:
```bash
scp user@old-server:/path/backup-*.tar.gz ./
```

### 3. –í—ñ–¥–Ω–æ–≤–∏—Ç–∏ –Ω–∞ –Ω–æ–≤–æ–º—É —Å–µ—Ä–≤–µ—Ä—ñ:
```bash
cd /new/server/path
node scripts/backup.js restore backup-*.tar.gz
```

---

## üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±—ç–∫–∞–ø–∞

–ö–æ–∂–µ–Ω –±—ç–∫–∞–ø –º—ñ—Å—Ç–∏—Ç—å:
```
backup-2025-01-14T15-30-00-000Z.tar.gz
‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îú‚îÄ‚îÄ users/          # –í—Å—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ
‚îÇ   ‚îú‚îÄ‚îÄ campaigns/      # –í—Å—ñ –∫–∞–º–ø–∞–Ω—ñ—ó
‚îÇ   ‚îî‚îÄ‚îÄ points/         # –í—Å—ñ —Ç–æ—á–∫–∏
‚îî‚îÄ‚îÄ uploads/            # –í—Å—ñ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ—ñ—ó
```

**–û–¥–∏–Ω —Ñ–∞–π–ª = –ø–æ–≤–Ω–µ –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è —Å–∏—Å—Ç–µ–º–∏!**

---

*–¢–µ–ø–µ—Ä —Ç–≤–æ—ó –¥–∞–Ω—ñ –∑–∞—Ö–∏—â–µ–Ω—ñ –≤—ñ–¥ –≤—Ç—Ä–∞—Ç–∏ –ø—Ä–∏ –¥–µ–ø–ª–æ—è—Ö! üõ°Ô∏è*
